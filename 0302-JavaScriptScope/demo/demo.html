<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript面试必备技能作用域&闭包</title>
</head>
<body>

</body>
<script type="text/javascript">
    /* function Person() {
         var age = 18;
         function Teacher() {
             console.log(age);
         }
         return Teacher;
     }

     var teacher = Person();

     teacher();
 */
    // function Person() {
    //     var age = 18;
    //     function Teacher() {
    //         console.log(age);
    //     }
    //     Teacher();
    // }
    //
    // Person();

    // function Person() {
    //     var age = 18;
    //
    //     function Teacher() {
    //         console.log(age); // 18
    //     }
    //
    //     Company(Teacher);
    // }
    //
    // function Company(fn) {
    //     fn();
    // }
    //
    // Person();

    // for (var i = 1; i <= 5; i++) {
    //
    //     let j = i;
    //
    //     setTimeout( function timer() {
    //
    //         console.log( j );
    //
    //     }, j * 1000 );
    //
    // }

    // {
    //     let j;
    //     for(j = 1; j <= 5; j++){
    //         let i = j;
    //         console.log(j);
    //     }
    // }

    // for (let i = 1; i <= 5; i++) {
    //     setTimeout( function timer() {
    //         console.log( i );
    //     }, i * 1000 );
    //
    // }
    //LHS   RHS   分词/词法分析    解析/语法分析     抽象语法树（AST）

    //没有块级作用域
   /* var list = [];
    for (let i = 0; i <= 5; i++) {
        list[i] = function () {
            console.log(i);
        }
    }
    list[0]();//5  6
    list[1]();//5  6
    list[2]();//5  6
    list[3]();//5  6
    list[4]();//5  6*/

   //提升  局部变量name提升了
   // var name = "小唐";
   // function func() {
   //     console.log(name);//小唐+7   Ariel+5     undefined+3
   //     var name = "Ariel";
   // }
   // func();

  //闭包  JavaScript模拟私有变量
 /* function Teacher() {
      var name = "小唐"
      return {
          setName:function () {
              name = "Ariel";
          },
          getName:function () {
              return "你好，"+name;
          }
      };
  }
  var obj = new Teacher();
  obj.setName();
  console.log(obj.getName());//你好，Ariel*/

    function doSomething(a) {

        function doSomethingElse(a) {
            //4 - 1
            return a - 1;
        }

        var b;

        b = a + doSomethingElse( a * 2 );//5

        console.log( b * 3 );//15
    }

    doSomething( 2 ); // 15


</script>
</html>